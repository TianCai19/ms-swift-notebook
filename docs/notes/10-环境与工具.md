## 环境与工具

### 升级 ms-swift 库（记录）
不在此仓库中执行命令，仅做记录：

```bash
pip install 'ms-swift[all]' -U
```

说明：
- 使用 pip 升级/安装 ms-swift，并安装所有可选组件（extras）。
- 如果系统有多个 Python 版本，建议使用 `python3 -m pip` 的形式以确保指向正确版本。

```bash
python3 -m pip install 'ms-swift[all]' -U
```

### 备注
- 若在企业网络环境下，可能需要配置代理或替换镜像源。
- 建议记录当前安装版本与变更日志链接（如有）。

## 系统环境配置

### Locale 配置修复（中文显示问题）

**问题描述**: zsh 终端中文显示乱码，locale 配置不完整

**解决方案**:
```bash
# 1. 安装 locales 包
sudo apt-get update
sudo apt-get install -y locales

# 2. 生成中文和英文 locale
sudo locale-gen en_US.UTF-8 zh_CN.UTF-8

# 3. 设置默认 locale
sudo update-locale LANG=en_US.UTF-8 LC_ALL=en_US.UTF-8

# 4. 重新登录终端或执行
exec $SHELL -l
```

**验证修复**:
```bash
locale
echo "你好，世界"
```

**预期输出**:
```bash
LANG=en_US.UTF-8
LC_ALL=en_US.UTF-8
# ... 其他 locale 设置
你好，世界
```

### GPU 设备管理

**推荐做法**:
```bash
# 使用环境变量固定 GPU
CUDA_VISIBLE_DEVICES=6 swift infer ...

# 或在脚本中设置
export CUDA_VISIBLE_DEVICES=6
swift infer ...
```

**注意事项**:
- 避免使用不存在的 `--device` 参数
- 使用 `--device_map` 或环境变量来指定 GPU
- 确保 GPU 编号在系统范围内有效


